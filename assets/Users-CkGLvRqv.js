import{T as _}from"./Title-MimqtsJ6.js";import{_ as u,m as p,c as g,e as f,o as n,w as m,r as i,f as h,b as C,g as c,d,F as y,a as x}from"./index--sbLEj3t.js";import{P as U}from"./Page-C0Hdh_jo.js";import"./Form-cVzNvKQ-.js";import"./Input-CRN9G-Z4.js";const w={name:"UserTable",props:{filter:Object,selected:Boolean},components:{Page:U},data(){return{data:{},loaded:!1}},computed:{can_view(){return(this.user.permissions??[]).includes("users")||this.user.is_admin},can_insert(){return(this.user.permissions??[]).includes("users.insert")||this.user.is_admin},can_update(){return(this.user.permissions??[]).includes("users.update")||this.user.is_admin},can_delete(){return(this.user.permissions??[]).includes("users.delete")||this.user.is_admin},...p(["loading","user"])},watch:{loading(s){s||(this.loaded=!0)},data(){this.emitData()}},methods:{emitData(){this.$emit("update:modelValue",this.data)}},mounted(){this.loading||(this.loaded=!0)}};function E(s,l,t,b,a,e){const r=i("page");return a.loaded?(n(),g(r,{key:0,modelValue:a.data,"onUpdate:modelValue":l[0]||(l[0]=o=>a.data=o),url:"admin/users",id_field:"id",filter:t.filter,selected:t.selected,can_view:e.can_view,can_insert:e.can_insert,can_update:e.can_update,can_delete:e.can_delete,fields:[[{type:"number",name:"id",label:"ID",disabled:!0,col:[12,2,2,2,2,2]},{name:"name",label:"Nome",col:[12,10,10,5,5,5]},{name:"email",label:"E-mail",col:[12,12,12,5,5,5]},{name:"username",label:"Nome de Usuário",col:[12,6,6,6,6,6]},{type:"password",name:"password",label:"Senha Provisória",help:"Deixe em branco para não alterar",col:[12,6,6,6,6,6]},{type:"multiple",name:"permissions",label:"Permissões",options:[{label:"users | Usuários",code:"users"},{label:"users.insert | Usuários - Cadastro",code:"users.insert"},{label:"users.update | Usuários - Alteração",code:"users.update"},{label:"users.delete | Usuários - Exclusão",code:"users.delete"},{label:"categories | Categorias",code:"categories"},{label:"categories.insert | Categorias - Cadastro",code:"categories.insert"},{label:"categories.update | Categorias - Alteração",code:"categories.update"},{label:"categories.delete | Categorias - Exclusão",code:"categories.delete"},{label:"categories_albums | Álbuns das Categorias",code:"categories_albums"},{label:"categories_albums.insert | Álbuns das Categorias - Cadastro",code:"categories_albums.insert"},{label:"categories_albums.update | Álbuns das Categorias - Alteração",code:"categories_albums.update"},{label:"categories_albums.delete | Álbuns das Categorias - Exclusão",code:"categories_albums.delete"},{label:"albums | Álbuns",code:"albums"},{label:"albums.insert | Álbuns - Cadastro",code:"albums.insert"},{label:"albums.update | Álbuns - Alteração",code:"albums.update"},{label:"albums.delete | Álbuns - Exclusão",code:"albums.delete"},{label:"albums_musics | Músicas dos Álbuns",code:"albums_musics"},{label:"albums_musics.insert | Músicas dos Álbuns - Cadastro",code:"albums_musics.insert"},{label:"albums_musics.update | Músicas dos Álbuns - Alteração",code:"albums_musics.update"},{label:"albums_musics.delete | Músicas dos Álbuns - Exclusão",code:"albums_musics.delete"},{label:"musics | Músicas",code:"musics"},{label:"musics.insert | Músicas - Cadastro",code:"musics.insert"},{label:"musics.update | Músicas - Alteração",code:"musics.update"},{label:"musics.delete | Músicas - Exclusão",code:"musics.delete"},{label:"lyrics | Letras",code:"lyrics"},{label:"lyrics.insert | Letras - Cadastro",code:"lyrics.insert"},{label:"lyrics.update | Letras - Alteração",code:"lyrics.update"},{label:"lyrics.delete | Letras - Exclusão",code:"lyrics.delete"}],col:[12]}]],sort_by:"name",grid_columns:[{name:"id",label:"ID",type:"number"},{name:"name",label:"Nome"},{name:"username",label:"Usuário"},{name:"email",label:"Email"},{name:"phone",label:"Telefone"},{name:"is_temporary_password",label:"Senha Provisória?",type:"boolean"}]},{default:m(()=>[h(s.$slots,"default")]),_:3},8,["modelValue","filter","selected","can_view","can_insert","can_update","can_delete"])):f("",!0)}const v=u(w,[["render",E]]),M={name:"UsersPage",components:{TitlePage:_,UserTable:v}},V={class:"card"},A={class:"card-body"};function N(s,l,t,b,a,e){const r=i("title-page"),o=i("user-table");return n(),C(y,null,[c(r,{mb:3},{default:m(()=>[x("Usuários")]),_:1}),d("div",V,[d("div",A,[c(o)])])],64)}const L=u(M,[["render",N]]);export{L as default};
